import { test, expect } from "@jest/globals";
import { getPages } from "~/app/(main)/transactions/_pagination";

test.each([
  [1, 1, 1, [1]],
  [1, 1, 2, [1, 2]],
  // todo: [1, 2, 5, [1, 2, "...", 5]],
  [1, 1, 5, [1, 2, 3, 4, 5]],
  [1, 1, 6, [1, 2, 3, "...", 6]],
  [1, 3, 6, [1, 2, 3, "...", 6]],
  [1, 4, 6, [1, "...", 4, 5, 6]],
  [1, 5, 6, [1, "...", 4, 5, 6]],
  [6, 4, 6, [1, 2, 3, 4, 5, 6]],
  [1, 4, 7, [1, "...", 4, "...", 7]],
  [6, 4, 7, [1, "...", 4, 5, 6, 7]],
  [6, 3, 7, [1, 2, 3, 4, "...", 7]],
  [1, 1, 10, [1, 2, 3, "...", 10]],
  [1, 2, 10, [1, 2, 3, "...", 10]],
  [1, 10, 10, [1, "...", 8, 9, 10]],
  [1, 9, 10, [1, "...", 8, 9, 10]],
  [6, 3, 10, [1, 2, 3, 4, "...", 10]],
  [10, 50, 100, [1, "...", 48, 49, 50, 51, 52, 53, "...", 100]],
  [10, 49, 100, [1, "...", 47, 48, 49, 50, 51, 52, "...", 100]],
  [10, 51, 100, [1, "...", 49, 50, 51, 52, 53, 54, "...", 100]],
  [9, 5, 10, [1, 2, 3, 4, 5, 6, 7, "...", 10]],
  [9, 4, 10, [1, 2, 3, 4, 5, 6, 7, "...", 10]],
  [9, 6, 10, [1, "...", 4, 5, 6, 7, 8, 9, 10]],
])("getPages", (available, current, total, expected) => {
  expect(getPages(available, current, total)).toEqual(expected);
});
